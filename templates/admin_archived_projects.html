{{ define "admin_archived_projects" }}
{{ template "base" . }}
{{ end }}

{{ define "title" }}Archived â€“ Projects{{ end }}

{{ define "content" }}

<h2 class="mb-6 text-xl font-semibold">Archived Projects</h2>

{{ if .Archived }}
<div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">

  {{ range .Archived }}
  <div class="bg-white rounded-lg shadow-sm border overflow-hidden p-4 space-y-3">

    <div class="flex justify-between items-center">
      <h3 class="text-lg font-semibold">{{ .Title }}</h3>
      <span class="text-xs px-2 py-1 rounded-full bg-gray-200 text-gray-700">
        Archived
      </span>
    </div>

    <p class="text-sm text-gray-600 line-clamp-3">
      {{ .Description }}
    </p>

    <p class="text-xs text-gray-400">
      Submitted by {{ .AuthorEmail }}
    </p>

    <div class="flex gap-4 pt-2">
      <form method="POST" action="/admin/projects/{{ .ID }}/restore">
        <button class="text-green-600 hover:underline">
          Restore
        </button>
      </form>

      <form method="POST"
            action="/admin/projects/{{ .ID }}/delete-forever"
            onsubmit="return confirm('This will permanently delete the project. Continue?');">
        <button class="text-red-700 font-semibold hover:underline">
          Delete forever
        </button>
      </form>
    </div>

  </div>
  {{ end }}

</div>
{{ else }}
<p class="text-gray-500">No archived projects yet.</p>
{{ end }}

{{ end }}
